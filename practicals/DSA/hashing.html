<script>
    class HashTable {
        constructor(size) {
            this.values = {};
            this.size = size;
        }
        add(key, value) {
            const hash = this.genHash(key)
            if (!this.values.hasOwnProperty(hash))
                this.values[hash] = {};
            this.values[hash][key] = value;
        }
        remove(key) {
            const hash = this.genHash(key);
            if (this.values.hasOwnProperty(hash) &&
                this.values[hash].hasOwnProperty(key)) {
                delete this.values[hash][key];
            }
        }
        genHash(key) {
            let keyStr = key.toString();
            let sum = 0;
            for (let i = 0; i < keyStr.length; i++)
                sum += keyStr.charCodeAt(i);
            return sum % this.size
        }
        getValue(key) {
            const hash = this.genHash(key);
            if (this.values.hasOwnProperty(hash)
                && this.values[hash].hasOwnProperty(key))
                return this.values[hash][key];
            else
                return undefined;
        }
        printAll() {
            for (const val in this.values)
                for (const key in this.values[val])
                    console.log("{", key, ", ", this.values[val][key], "}")
        }
    }
    let hashTable = new HashTable(5);
    hashTable.add("key1", "value1");
    hashTable.add("key2", "value2");
    hashTable.add("key3", "value3");
    hashTable.printAll();
    console.log(`value of key3: `, hashTable.getValue("key3"))
    console.log(`delete key3`)
    hashTable.remove("key3")
    hashTable.printAll();
    console.log(`value of key3: `, hashTable.getValue("key3"))
    console.log(`delete key2 & key1`)
    hashTable.remove("key2")
    hashTable.remove("key1")
    hashTable.printAll();

</script>